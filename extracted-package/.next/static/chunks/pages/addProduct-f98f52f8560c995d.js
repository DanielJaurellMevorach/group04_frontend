(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[934],{2775:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/addProduct",function(){return r(5824)}])},5824:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(7876),s=r(4232),o=r(9099),l=r(6887),n=r(7589);let i=e=>{let{image:t,removeImage:r}=e;return(0,a.jsxs)("div",{className:"relative",style:{width:"64px",height:"64px"},children:[(0,a.jsx)("img",{src:t.url,alt:"Thumbnail",className:"w-16 h-16 object-cover rounded-lg border shadow-sm"}),(0,a.jsx)("button",{type:"button",onClick:()=>r(t.id),className:"absolute -top-2 -right-2 bg-white rounded-full p-1 text-xs text-red-600 hover:bg-gray-100 shadow-sm","aria-label":"Remove image",children:"âœ•"})]})},c=()=>{let e=(0,o.useRouter)(),t=(0,s.useRef)(null),[r,c]=(0,s.useState)([]),[d,u]=(0,s.useState)(""),[m,x]=(0,s.useState)(""),[f,p]=(0,s.useState)(""),[h,g]=(0,s.useState)(""),[b,y]=(0,s.useState)([]),[j,v]=(0,s.useState)(""),[w,N]=(0,s.useState)(!1),[k,C]=(0,s.useState)(""),[E,A]=(0,s.useState)(""),[F,S]=(0,s.useState)(!1);(0,s.useEffect)(()=>()=>{r.forEach(e=>URL.revokeObjectURL(e.url))},[r]);let P=(0,s.useCallback)(e=>{let t=e.map(e=>({id:"image-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),file:e,url:URL.createObjectURL(e)}));c(e=>[...e,...t])},[]),T=(0,s.useCallback)(e=>{e.target.files&&e.target.files.length>0&&(P(Array.from(e.target.files)),t.current&&(t.current.value=""))},[P]),_=(0,s.useCallback)(()=>{t.current&&t.current.click()},[]),I=(0,s.useCallback)(e=>{if("Enter"===e.key){e.preventDefault();let t=j.trim();t&&!b.includes(t)&&(y(e=>[...e,t]),v(""))}},[j,b]),L=(0,s.useCallback)(e=>{y(t=>t.filter(t=>t!==e))},[]),U=(0,s.useCallback)(e=>{c(t=>{let r=t.find(t=>t.id===e);return r&&URL.revokeObjectURL(r.url),t.filter(t=>t.id!==e)})},[]),D=(0,s.useCallback)(()=>e.back(),[e]),B=async t=>{if(t.preventDefault(),0===r.length)return void C("Please add at least one image");N(!0),C("");try{await l.A.uploadNewArtPiece({images:r.map(e=>e.file),title:d,description:m,artist:E,price:parseFloat(f)||0,year:parseInt(h,10)||new Date().getFullYear(),tags:b}),e.push("/")}catch(e){console.error(e),C("Failed to upload art piece. Please try again.")}finally{N(!1)}},R=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),S(!0)},[]),O=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),S(!1)},[]),z=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),M=(0,s.useCallback)(e=>{if(e.preventDefault(),e.stopPropagation(),S(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0){let t=Array.from(e.dataTransfer.files).filter(e=>e.type.startsWith("image/"));t.length>0&&P(t)}},[P]);return(0,a.jsxs)("div",{className:"min-h-screen bg-[#F9F2EA] text-[#8A5A3B]",children:[(0,a.jsx)(n.A,{}),(0,a.jsxs)("section",{className:"relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 z-0",children:(0,a.jsx)("div",{className:"absolute inset-0 bg-[#F9F2EA]/90 z-10"})}),(0,a.jsx)("div",{className:"container relative z-20 mx-auto px-4 py-2 md:py-2"})]}),(0,a.jsxs)("div",{className:"max-w-screen-lg mx-auto p-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Upload A New Art Piece"}),k&&(0,a.jsx)("p",{className:"text-red-600 mb-4",children:k}),(0,a.jsxs)("form",{onSubmit:B,className:"flex flex-col md:flex-row gap-10",children:[(0,a.jsxs)("div",{className:"flex-1 border-2 ".concat(F?"border-[#c9a895]":"border-dashed border-[#685b5a]"," rounded-lg p-4 flex flex-col justify-between relative"),onDragEnter:R,onDragOver:z,onDragLeave:O,onDrop:M,children:[(0,a.jsx)("div",{className:"flex-1 flex flex-col items-center justify-center",children:r.length>0?(0,a.jsx)("div",{className:"w-full h-70 mb-4 relative",children:(0,a.jsx)("img",{src:r[0].url,alt:"Main Preview",className:"max-h-70 w-full object-contain mx-auto"})}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[(0,a.jsx)("svg",{className:"w-20 h-20 text-gray-300 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Drag and drop images here or"})]})}),r.length>0&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:r.map(e=>(0,a.jsx)(i,{image:e,removeImage:U},e.id))})}),(0,a.jsxs)("button",{type:"button",onClick:_,className:"mt-4 px-6 py-3 bg-white border border-gray-300 rounded-full text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 flex items-center justify-center shadow-sm transition-colors",disabled:w,children:[(0,a.jsx)("svg",{className:"w-5 h-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),r.length>0?"Add More Images":"Browse Files"]}),(0,a.jsx)("input",{type:"file",accept:"image/*",multiple:!0,ref:t,onChange:T,className:"hidden",disabled:w})]}),(0,a.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"title",className:"block font-semibold mb-1",children:"Title"}),(0,a.jsx)("input",{id:"title",type:"text",value:d,autoComplete:"off",onChange:e=>u(e.target.value),required:!0,disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-300"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"artist",className:"block font-semibold mb-1",children:"Artist"}),(0,a.jsx)("input",{id:"artist",type:"text",autoComplete:"off",value:E,onChange:e=>A(e.target.value),required:!0,disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-300"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"description",className:"block font-semibold mb-1",children:"Description"}),(0,a.jsx)("textarea",{id:"description",autoComplete:"off",value:m,onChange:e=>x(e.target.value),required:!0,disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-300 resize-y h-24"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"price",className:"block font-semibold mb-1",children:"Price ($)"}),(0,a.jsx)("input",{id:"price",autoComplete:"off",type:"number",step:"0.01",value:f,onChange:e=>p(e.target.value),required:!0,disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-300"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"year",className:"block font-semibold mb-1",children:"Year"}),(0,a.jsx)("input",{id:"year",autoComplete:"off",type:"date",value:h,onChange:e=>g(e.target.value),required:!0,disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-300"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"tag-input",className:"block font-semibold mb-1",children:"Tags"}),(0,a.jsx)("input",{id:"tag-input",type:"text",placeholder:"Add a tag and press Enter",autoComplete:"off",value:j,onChange:e=>v(e.target.value),onKeyDown:I,disabled:w,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-300"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:b.map(e=>(0,a.jsxs)("span",{className:"bg-gray-200 px-3 py-1 rounded-full flex items-center",children:[e,(0,a.jsx)("button",{type:"button",onClick:()=>L(e),className:"ml-2 focus:outline-none",disabled:w,children:"\xd7"})]},e))})]}),(0,a.jsxs)("div",{className:"flex space-x-4 mt-6",children:[(0,a.jsx)("button",{type:"submit",disabled:w,className:"px-6 py-3 bg-[#c9a895] text-white rounded-full hover:bg-[#b58c7a] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#c9a895] disabled:opacity-50 shadow-sm transition-colors",children:w?"Saving...":"Publish Art Piece"}),(0,a.jsx)("button",{type:"button",onClick:D,className:"px-6 py-3 border border-gray-300 rounded-full hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 shadow-sm transition-colors",disabled:w,children:"Cancel"})]})]})]})]})]})}},6887:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(5364);a.env.NEXT_PUBLIC_API_URL;let s={uploadNewArtPiece:async e=>{let t=new FormData;if(e.images&&Array.isArray(e.images))for(let r of e.images)t.append("images",r);t.append("title",e.title),t.append("description",e.description),t.append("artist",e.artist),t.append("price",String(e.price)),t.append("year",String(e.year)),t.append("tags",JSON.stringify(e.tags));let r=sessionStorage.getItem("token"),s=sessionStorage.getItem("username");s&&t.append("username",s);let o={};r&&(o.Authorization="Bearer ".concat(r));let l=await fetch("".concat(a.env.NEXT_PUBLIC_API_URL,"/item/create"),{method:"POST",headers:o,body:t});if(!l.ok)throw console.error("Upload error:",await l.text()),Error("Failed to upload art piece: ".concat(l.statusText));return l.json()},getAllProducts:async()=>{let e=sessionStorage.getItem("token");try{let t=await fetch("".concat(a.env.NEXT_PUBLIC_GET_ALL_ART_PIECES_URL),{method:"GET",headers:{"Content-Type":"application/json",Authorization:e?"Bearer ".concat(e):""}});if(!t.ok)throw Error("Failed to fetch products");return t.json()}catch(e){throw console.error("Error fetching products:",e),Error("Failed to fetch products")}},getProductById:async e=>{let t=a.env.NEXT_PUBLIC_GET_ART_PIECE_BY_ID_URL;try{let r=await fetch("".concat(t,"artPieceId=").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!r.ok)throw Error("Failed to fetch product");return r.json()}catch(e){throw console.error("Error fetching product:",e),Error("Failed to fetch product")}},getProductsByArtist:async(e,t)=>{let r=new URL("".concat(a.env.NEXT_PUBLIC_API_URL,"/item/artist/").concat(e));return t&&r.searchParams.append("exclude",t),await fetch(r.toString(),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})}}},7589:(e,t,r)=>{"use strict";r.d(t,{A:()=>x});var a=r(7876),s=r(4250),o=r.n(s),l=r(672),n=r(8447),i=r(6495),c=r(760),d=r(8230),u=r.n(d),m=r(4232);let x=()=>{let[e,t]=(0,m.useState)(!1),[r,s]=(0,m.useState)(!1),[d,x]=(0,m.useState)("");(0,m.useEffect)(()=>{sessionStorage.getItem("token")&&s(!0);let e=sessionStorage.getItem("username");e&&x(e)},[]);let f=()=>{sessionStorage.removeItem("token"),t(!1),s(!1)};return(0,a.jsxs)("header",{className:"jsx-e68520c3668174cd w-full bg-[#F9F2EA] text-[#A67C52] font-normal top-0 z-50 shadow-sm",children:[(0,a.jsxs)("div",{className:"jsx-e68520c3668174cd flex flex-col justify-center items-center w-full max-w-7xl mx-auto px-4",children:[(0,a.jsx)("div",{className:"jsx-e68520c3668174cd py-4 md:py-6",children:(0,a.jsxs)("div",{className:"jsx-e68520c3668174cd text-center",children:[(0,a.jsx)("h1",{className:"jsx-e68520c3668174cd text-xl font-medium tracking-wider",children:"NIMAH"}),(0,a.jsx)("p",{className:"jsx-e68520c3668174cd text-xs tracking-widest",children:"ART BOUTIQUE"})]})}),(0,a.jsx)("div",{className:"jsx-e68520c3668174cd md:hidden w-full border-t border-[#E8D7C9] py-3",children:(0,a.jsx)("div",{className:"jsx-e68520c3668174cd flex justify-between items-center",children:(0,a.jsxs)("button",{onClick:()=>t(!e),"aria-expanded":e,"aria-label":"Toggle navigation menu",className:"jsx-e68520c3668174cd flex items-center px-3 py-2 text-sm tracking-wider",children:[e?(0,a.jsx)(l.A,{className:"h-5 w-5 mr-2"}):(0,a.jsx)(n.A,{className:"h-5 w-5 mr-2"}),"MENU"]})})}),(0,a.jsx)("nav",{className:"jsx-e68520c3668174cd hidden md:flex justify-center w-full py-4 border-t border-b border-[#E8D7C9]",children:(0,a.jsxs)("div",{className:"jsx-e68520c3668174cd flex justify-between w-full max-w-4xl items-center",children:[(0,a.jsxs)("div",{className:"jsx-e68520c3668174cd flex space-x-8",children:[(0,a.jsx)(u(),{className:"px-3 py-2 text-sm tracking-wider hover:text-[#C8977F] transition-colors duration-200",href:"/",children:"HOME"}),(0,a.jsx)(u(),{className:"px-3 py-2 text-sm tracking-wider hover:text-[#C8977F] transition-colors duration-200",href:"/gallery",children:"SHOP"}),(0,a.jsx)(u(),{className:"px-3 py-2 text-sm tracking-wider hover:text-[#C8977F] transition-colors duration-200",href:"",children:"ARTISTS"}),(0,a.jsx)(u(),{className:"px-3 py-2 text-sm tracking-wider hover:text-[#C8977F] transition-colors duration-200",href:"",children:"ABOUT"})]}),r?(0,a.jsxs)("div",{className:"jsx-e68520c3668174cd flex items-center gap-4",children:[(0,a.jsx)("button",{"aria-label":"Shopping cart",className:"jsx-e68520c3668174cd p-2 hover:text-[#C8977F] transition-colors duration-200",children:(0,a.jsx)(u(),{href:"/user-cart",children:(0,a.jsx)(i.A,{className:"h-5 w-5"})})}),(0,a.jsx)("button",{"aria-label":"Shopping cart",className:"jsx-e68520c3668174cd p-2 hover:text-[#C8977F] transition-colors duration-200",children:(0,a.jsx)(u(),{href:"/liked-items",children:(0,a.jsx)(c.A,{className:"h-5 w-5"})})}),(0,a.jsxs)(u(),{href:"/",className:"bg-[#C8977F] hover:bg-[#B78370] text-white border-none rounded-none p-1.5",onClick:()=>f(),children:["Log Out, ",d]})]}):(0,a.jsx)("div",{className:"jsx-e68520c3668174cd flex items-center gap-4",children:(0,a.jsx)(u(),{href:"/login",className:"bg-[#C8977F] hover:bg-[#B78370] text-white border-none rounded-none p-1.5",onClick:()=>t(!1),children:"Sign In"})})]})}),e&&(0,a.jsx)("nav",{className:"jsx-e68520c3668174cd md:hidden w-full border-b border-[#E8D7C9]",children:(0,a.jsxs)("div",{style:{animation:"fadeIn 0.3s ease-out forwards"},className:"jsx-e68520c3668174cd flex flex-col w-full",children:[(0,a.jsx)(u(),{className:"px-4 py-3 text-sm tracking-wider hover:text-[#C8977F] hover:bg-[#F3EAE0] transition-colors duration-200",href:"/",onClick:()=>t(!1),children:"HOME"}),(0,a.jsx)(u(),{className:"px-4 py-3 text-sm tracking-wider hover:text-[#C8977F] hover:bg-[#F3EAE0] transition-colors duration-200",href:"/gallery",onClick:()=>t(!1),children:"SHOP"}),(0,a.jsx)(u(),{className:"px-4 py-3 text-sm tracking-wider hover:text-[#C8977F] hover:bg-[#F3EAE0] transition-colors duration-200",href:"",onClick:()=>t(!1),children:"ARTISTS"}),(0,a.jsx)(u(),{className:"px-4 py-3 text-sm tracking-wider hover:text-[#C8977F] hover:bg-[#F3EAE0] transition-colors duration-200",href:"",onClick:()=>t(!1),children:"ABOUT"}),r?(0,a.jsx)("div",{className:"jsx-e68520c3668174cd px-4 py-3 border-t border-[#E8D7C9]",children:(0,a.jsxs)(u(),{href:"/login",className:"block w-full py-2 text-center bg-[#C8977F] hover:bg-[#B78370] text-white transition-colors duration-200",onClick:()=>f(),children:["Log Out ",d]})}):(0,a.jsx)("div",{className:"jsx-e68520c3668174cd px-4 py-3 border-t border-[#E8D7C9]",children:(0,a.jsx)(u(),{href:"/login",className:"block w-full py-2 text-center bg-[#C8977F] hover:bg-[#B78370] text-white transition-colors duration-200",onClick:()=>t(!1),children:"Sign In"})})]})})]}),(0,a.jsx)(o(),{id:"e68520c3668174cd",children:"@-webkit-keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeIn{from{opacity:0;-moz-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeIn{from{opacity:0;-o-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(-10px);-moz-transform:translatey(-10px);-o-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}"})]})}},9099:(e,t,r)=>{e.exports=r(8253)}},e=>{var t=t=>e(e.s=t);e.O(0,[51,636,593,792],()=>t(2775)),_N_E=e.O()}]);