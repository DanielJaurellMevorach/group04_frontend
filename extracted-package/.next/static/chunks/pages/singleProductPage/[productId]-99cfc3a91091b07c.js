(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[97],{6707:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(7876),o=r(4232),i=r(4587),s=r.n(i),n=r(8230),c=r.n(n),l=r(8118),d=r.n(l);let m={src:"/_next/static/media/painting1.b0a916a9.webp",height:426,width:640,blurDataURL:"data:image/webp;base64,UklGRkIAAABXRUJQVlA4IDYAAADwAQCdASoIAAUAAkA4JYgCdLoAArl89zAA/u5dxDIiDffAE10QXcu/pnRB9CbJZS98ikWLwAA=",blurWidth:8,blurHeight:5},u={src:"/_next/static/media/painting2.545c4dda.jpg",height:1280,width:854,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAIAAUDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAVAQEBAAAAAAAAAAAAAAAAAAAFBv/aAAwDAQACEAMQAAAArRMOf//EABgQAQADAQAAAAAAAAAAAAAAAAIAAREx/9oACAEBAAE/AAb1632f/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8Ar//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Af//Z",blurWidth:5,blurHeight:8};var h=r(7589),A=r(6887),g=r(9099),x=r(6768);let p=()=>{let[e,t]=(0,o.useState)(0),[r,i]=(0,o.useState)(!1),[n,l]=(0,o.useState)({x:0,y:0}),[p,_]=(0,o.useState)({x:0,y:0}),[j,f]=(0,o.useState)(!1),P=(0,o.useRef)(null),[y,b]=(0,o.useState)(!1),{productId:v}=(0,g.useRouter)().query,N=async e=>{let t=await A.A.getProductById(e);if(t.ok)return await t.json();throw Error("Failed to fetch product")},{data:w,isLoading:I,error:S}=(0,x.Ay)(v?"product-".concat(v):null,()=>N(String(v))),k=async(e,t)=>{let r=await A.A.getProductsByArtist(String(e),String(t));if(r.ok)return await r.json();throw Error("Failed to fetch arts by artist")},{data:C,isLoading:E,error:F}=(0,x.Ay)((null==w?void 0:w.artist)&&(null==w?void 0:w.id)?"arts-".concat(w.artist,"-").concat(w.id):null,()=>(null==w?void 0:w.artist)&&(null==w?void 0:w.id)?k(w.artist,w.id):null);return(0,a.jsxs)("div",{className:"min-h-screen bg-[#F9F2EA] text-[#8A5A3B]",children:[(0,a.jsx)(h.A,{}),I?(0,a.jsx)("p",{className:"text-center py-10",children:"Loading..."}):S?(0,a.jsxs)("p",{className:"text-center py-10 text-red-500",children:["Error: ",S.message]}):w&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("section",{className:"relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 z-0",children:(0,a.jsx)("div",{className:"absolute inset-0 bg-[#F9F2EA]/90 z-10"})}),(0,a.jsx)("div",{className:"container relative z-20 mx-auto px-4 py-2 md:py-2"})]}),(0,a.jsxs)("div",{className:d().container,children:[(0,a.jsxs)("div",{className:d().breadcrumb,children:[(0,a.jsx)(c(),{href:"/shop",children:"Shop"}),(0,a.jsx)("span",{children:" > "}),(0,a.jsx)(c(),{href:"/shop/".concat(w.artist),children:w.artist}),(0,a.jsx)("span",{children:" > "}),(0,a.jsx)("span",{children:w.title})]}),(0,a.jsxs)("div",{className:d().productContent,children:[(0,a.jsx)("div",{className:d().productImages,children:(0,a.jsxs)("div",{className:d().mainImage,children:[(0,a.jsxs)("div",{className:d().imageContainer,ref:P,onMouseMove:e=>{if(!P.current||j)return;let{left:t,top:r,width:a,height:o}=P.current.getBoundingClientRect();l({x:(e.clientX-t)/a*100,y:(e.clientY-r)/o*100}),_({x:e.clientX,y:e.clientY})},onMouseEnter:()=>!j&&i(!0),onMouseLeave:()=>i(!1),children:[(0,a.jsx)(s(),{src:w.url,alt:"Product image ".concat(e+1),width:500,height:600,objectFit:"cover",className:d().slideImage}),r&&!j&&(0,a.jsx)("div",{className:d().zoomWindow,style:{left:"".concat(p.x,"px"),top:"".concat(p.y,"px"),backgroundImage:"url(".concat(w.url,")"),backgroundPosition:"".concat(n.x,"% ").concat(n.y,"%")}})]}),(0,a.jsx)("div",{className:d().indicators,children:[m,u].map((r,o)=>(0,a.jsx)("button",{className:"".concat(d().indicator," ").concat(e===o?d().activeIndicator:""),onClick:()=>t(o),"aria-label":"Go to image ".concat(o+1)},o))}),(0,a.jsx)("div",{className:d().thumbnailGallery,children:(0,a.jsx)("div",{className:"".concat(d().thumbnail," ").concat(1===e?d().activeThumbnail:""),onClick:()=>t(1),children:(0,a.jsx)("div",{className:d().thumbnailImageWrapper,children:(0,a.jsx)(s(),{src:w.url,alt:"Thumbnail 1",layout:"fill",objectFit:"cover"})})})})]})}),(0,a.jsxs)("div",{className:d().productDetails,children:[(0,a.jsx)("h1",{className:d().title,children:w.title}),(0,a.jsx)("p",{className:d().artist,children:w.artist}),(0,a.jsxs)("p",{className:d().dimensions,children:["Made in ",w.year]}),(0,a.jsxs)("p",{className:d().price,children:["$",w.price]}),(0,a.jsx)("p",{className:d().description,children:w.description}),(0,a.jsxs)("div",{className:"flex items-end",children:[(0,a.jsx)("button",{className:d().buyNowButton,children:"BUY NOW"}),(0,a.jsx)("button",{className:"".concat(d().favoriteButton," ").concat(y?d().favorited:""),onClick:()=>{b(e=>!e)},"aria-label":y?"Remove from favorites":"Add to favorites",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:y?"#e25555":"none",stroke:y?"#e25555":"currentColor",strokeWidth:"2",className:d().heartIcon,children:(0,a.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78L12 21.23l8.84-8.84a5.5 5.5 0 0 0 0-7.78z"})})})]})]})]}),(0,a.jsxs)("div",{className:d().moreFromAuthor,children:[(0,a.jsx)("h2",{className:d().moreFromAuthorTitle,children:"More from artist"}),E?(0,a.jsx)("p",{children:"Loading...."}):C&&0===C.length?(0,a.jsx)("p",{children:"No other painting found"}):(0,a.jsx)("div",{className:d().moreFromAuthorGrid,children:null==C?void 0:C.map(e=>(0,a.jsx)("div",{className:d().moreFromAuthorItem,children:(0,a.jsxs)(c(),{href:"/singleProductPage/".concat(e.id),children:[(0,a.jsx)("div",{className:d().moreFromAuthorImageWrapper,children:(0,a.jsx)(s(),{src:e.url,alt:"Author product ".concat(e.id),layout:"fill",objectFit:"cover"})}),(0,a.jsx)("h3",{className:d().moreFromAuthorItemTitle,children:e.title}),(0,a.jsxs)("p",{className:d().moreFromAuthorItemPrice,children:["$",e.price]})]})},e.id))}),F&&(0,a.jsx)("p",{className:"text-red-500 mt-2",children:F.message})]})]})]})]})}},6887:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(5364);a.env.NEXT_PUBLIC_API_URL;let o={uploadNewArtPiece:async e=>{let t=new FormData;if(e.images&&Array.isArray(e.images))for(let r of e.images)t.append("images",r);t.append("title",e.title),t.append("description",e.description),t.append("artist",e.artist),t.append("price",String(e.price)),t.append("year",String(e.year)),t.append("tags",JSON.stringify(e.tags));let r=sessionStorage.getItem("token"),o=sessionStorage.getItem("username");o&&t.append("username",o);let i={};r&&(i.Authorization="Bearer ".concat(r));let s=await fetch("".concat(a.env.NEXT_PUBLIC_API_URL,"/item/create"),{method:"POST",headers:i,body:t});if(!s.ok)throw console.error("Upload error:",await s.text()),Error("Failed to upload art piece: ".concat(s.statusText));return s.json()},getAllProducts:async()=>{let e=sessionStorage.getItem("token");try{let t=await fetch("".concat(a.env.NEXT_PUBLIC_GET_ALL_ART_PIECES_URL),{method:"GET",headers:{"Content-Type":"application/json",Authorization:e?"Bearer ".concat(e):""}});if(!t.ok)throw Error("Failed to fetch products");return t.json()}catch(e){throw console.error("Error fetching products:",e),Error("Failed to fetch products")}},getProductById:async e=>{let t=a.env.NEXT_PUBLIC_GET_ART_PIECE_BY_ID_URL;try{let r=await fetch("".concat(t,"artPieceId=").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!r.ok)throw Error("Failed to fetch product");return r.json()}catch(e){throw console.error("Error fetching product:",e),Error("Failed to fetch product")}},getProductsByArtist:async(e,t)=>{let r=new URL("".concat(a.env.NEXT_PUBLIC_API_URL,"/item/artist/").concat(e));return t&&r.searchParams.append("exclude",t),await fetch(r.toString(),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})}}},7589:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var a=r(7876),o=r(4250),i=r.n(o),s=r(672),n=r(8447),c=r(6495),l=r(760),d=r(8230),m=r.n(d),u=r(4232);let h=()=>{let[e,t]=(0,u.useState)(!1),[r,o]=(0,u.useState)(!1),[d,h]=(0,u.useState)("");(0,u.useEffect)(()=>{sessionStorage.getItem("token")&&o(!0);let e=sessionStorage.getItem("username");e&&h(e)},[]);let A=()=>{sessionStorage.removeItem("token"),t(!1),o(!1)};return(0,a.jsxs)("header",{className:"jsx-e68520c3668174cd w-full bg-[#F9F2EA] text-[#A67C52] font-normal top-0 z-50 shadow-sm",children:[(0,a.jsxs)("div",{className:"jsx-e68520c3668174cd flex flex-col justify-center items-center w-full max-w-7xl mx-auto px-4",children:[(0,a.jsx)("div",{className:"jsx-e68520c3668174cd py-4 md:py-6",children:(0,a.jsxs)("div",{className:"jsx-e68520c3668174cd text-center",children:[(0,a.jsx)("h1",{className:"jsx-e68520c3668174cd text-xl font-medium tracking-wider",children:"NIMAH"}),(0,a.jsx)("p",{className:"jsx-e68520c3668174cd text-xs tracking-widest",children:"ART BOUTIQUE"})]})}),(0,a.jsx)("div",{className:"jsx-e68520c3668174cd md:hidden w-full border-t border-[#E8D7C9] py-3",children:(0,a.jsx)("div",{className:"jsx-e68520c3668174cd flex justify-between items-center",children:(0,a.jsxs)("button",{onClick:()=>t(!e),"aria-expanded":e,"aria-label":"Toggle navigation menu",className:"jsx-e68520c3668174cd flex items-center px-3 py-2 text-sm tracking-wider",children:[e?(0,a.jsx)(s.A,{className:"h-5 w-5 mr-2"}):(0,a.jsx)(n.A,{className:"h-5 w-5 mr-2"}),"MENU"]})})}),(0,a.jsx)("nav",{className:"jsx-e68520c3668174cd hidden md:flex justify-center w-full py-4 border-t border-b border-[#E8D7C9]",children:(0,a.jsxs)("div",{className:"jsx-e68520c3668174cd flex justify-between w-full max-w-4xl items-center",children:[(0,a.jsxs)("div",{className:"jsx-e68520c3668174cd flex space-x-8",children:[(0,a.jsx)(m(),{className:"px-3 py-2 text-sm tracking-wider hover:text-[#C8977F] transition-colors duration-200",href:"/",children:"HOME"}),(0,a.jsx)(m(),{className:"px-3 py-2 text-sm tracking-wider hover:text-[#C8977F] transition-colors duration-200",href:"/gallery",children:"SHOP"}),(0,a.jsx)(m(),{className:"px-3 py-2 text-sm tracking-wider hover:text-[#C8977F] transition-colors duration-200",href:"",children:"ARTISTS"}),(0,a.jsx)(m(),{className:"px-3 py-2 text-sm tracking-wider hover:text-[#C8977F] transition-colors duration-200",href:"",children:"ABOUT"})]}),r?(0,a.jsxs)("div",{className:"jsx-e68520c3668174cd flex items-center gap-4",children:[(0,a.jsx)("button",{"aria-label":"Shopping cart",className:"jsx-e68520c3668174cd p-2 hover:text-[#C8977F] transition-colors duration-200",children:(0,a.jsx)(m(),{href:"/user-cart",children:(0,a.jsx)(c.A,{className:"h-5 w-5"})})}),(0,a.jsx)("button",{"aria-label":"Shopping cart",className:"jsx-e68520c3668174cd p-2 hover:text-[#C8977F] transition-colors duration-200",children:(0,a.jsx)(m(),{href:"/liked-items",children:(0,a.jsx)(l.A,{className:"h-5 w-5"})})}),(0,a.jsxs)(m(),{href:"/",className:"bg-[#C8977F] hover:bg-[#B78370] text-white border-none rounded-none p-1.5",onClick:()=>A(),children:["Log Out, ",d]})]}):(0,a.jsx)("div",{className:"jsx-e68520c3668174cd flex items-center gap-4",children:(0,a.jsx)(m(),{href:"/login",className:"bg-[#C8977F] hover:bg-[#B78370] text-white border-none rounded-none p-1.5",onClick:()=>t(!1),children:"Sign In"})})]})}),e&&(0,a.jsx)("nav",{className:"jsx-e68520c3668174cd md:hidden w-full border-b border-[#E8D7C9]",children:(0,a.jsxs)("div",{style:{animation:"fadeIn 0.3s ease-out forwards"},className:"jsx-e68520c3668174cd flex flex-col w-full",children:[(0,a.jsx)(m(),{className:"px-4 py-3 text-sm tracking-wider hover:text-[#C8977F] hover:bg-[#F3EAE0] transition-colors duration-200",href:"/",onClick:()=>t(!1),children:"HOME"}),(0,a.jsx)(m(),{className:"px-4 py-3 text-sm tracking-wider hover:text-[#C8977F] hover:bg-[#F3EAE0] transition-colors duration-200",href:"/gallery",onClick:()=>t(!1),children:"SHOP"}),(0,a.jsx)(m(),{className:"px-4 py-3 text-sm tracking-wider hover:text-[#C8977F] hover:bg-[#F3EAE0] transition-colors duration-200",href:"",onClick:()=>t(!1),children:"ARTISTS"}),(0,a.jsx)(m(),{className:"px-4 py-3 text-sm tracking-wider hover:text-[#C8977F] hover:bg-[#F3EAE0] transition-colors duration-200",href:"",onClick:()=>t(!1),children:"ABOUT"}),r?(0,a.jsx)("div",{className:"jsx-e68520c3668174cd px-4 py-3 border-t border-[#E8D7C9]",children:(0,a.jsxs)(m(),{href:"/login",className:"block w-full py-2 text-center bg-[#C8977F] hover:bg-[#B78370] text-white transition-colors duration-200",onClick:()=>A(),children:["Log Out ",d]})}):(0,a.jsx)("div",{className:"jsx-e68520c3668174cd px-4 py-3 border-t border-[#E8D7C9]",children:(0,a.jsx)(m(),{href:"/login",className:"block w-full py-2 text-center bg-[#C8977F] hover:bg-[#B78370] text-white transition-colors duration-200",onClick:()=>t(!1),children:"Sign In"})})]})})]}),(0,a.jsx)(i(),{id:"e68520c3668174cd",children:"@-webkit-keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeIn{from{opacity:0;-moz-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeIn{from{opacity:0;-o-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(-10px);-moz-transform:translatey(-10px);-o-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}"})]})}},8118:e=>{e.exports={container:"SingleProductPage_container__9KA8b",breadcrumb:"SingleProductPage_breadcrumb__AJqOz",productContent:"SingleProductPage_productContent__jklKE",productImages:"SingleProductPage_productImages__FC1kn",mainImage:"SingleProductPage_mainImage__Z6Ne_",thumbnails:"SingleProductPage_thumbnails__upU5_",thumbnail:"SingleProductPage_thumbnail__OptYa",productDetails:"SingleProductPage_productDetails__gceYq",title:"SingleProductPage_title__M7Atg",artist:"SingleProductPage_artist__rczXn",dimensions:"SingleProductPage_dimensions___Ocku",price:"SingleProductPage_price__fLxuj",description:"SingleProductPage_description__GsJvK",actions:"SingleProductPage_actions___x0rv",addToCartButton:"SingleProductPage_addToCartButton__BKcJl",favoriteButton:"SingleProductPage_favoriteButton__YIgRr",favorited:"SingleProductPage_favorited__TF2Rr",heartIcon:"SingleProductPage_heartIcon__YOO_K",heartbeat:"SingleProductPage_heartbeat__tWhb4",buyNowButton:"SingleProductPage_buyNowButton__AHLEJ",placeBidButton:"SingleProductPage_placeBidButton__1REm0",buyNowBidButtons:"SingleProductPage_buyNowBidButtons__8YVSx",imageContainer:"SingleProductPage_imageContainer__3Vt1n",arrowButton:"SingleProductPage_arrowButton__OtoUM",prevButton:"SingleProductPage_prevButton__UrUn_",nextButton:"SingleProductPage_nextButton__AhwsB",thumbnailGallery:"SingleProductPage_thumbnailGallery__AVWO4",slideImage:"SingleProductPage_slideImage__QBE3O",thumbnailImageWrapper:"SingleProductPage_thumbnailImageWrapper___A9sx",activeThumbnail:"SingleProductPage_activeThumbnail__2jM5r",zoomWindow:"SingleProductPage_zoomWindow__e_W1d",moreLikeThis:"SingleProductPage_moreLikeThis__MPpvp",moreLikeThisTitle:"SingleProductPage_moreLikeThisTitle__04opv",moreLikeThisGrid:"SingleProductPage_moreLikeThisGrid__DEuFn",moreLikeThisItem:"SingleProductPage_moreLikeThisItem__6HtAa",moreLikeThisImageWrapper:"SingleProductPage_moreLikeThisImageWrapper__cpO8q",moreLikeThisItemTitle:"SingleProductPage_moreLikeThisItemTitle__tusQB",moreLikeThisItemPrice:"SingleProductPage_moreLikeThisItemPrice__c_DBa",moreFromAuthor:"SingleProductPage_moreFromAuthor__fiA5n",moreFromAuthorTitle:"SingleProductPage_moreFromAuthorTitle__OO8Jn",moreFromAuthorGrid:"SingleProductPage_moreFromAuthorGrid__jkcnv",moreFromAuthorItem:"SingleProductPage_moreFromAuthorItem__VuB3x",moreFromAuthorImageWrapper:"SingleProductPage_moreFromAuthorImageWrapper__K0mlV",moreFromAuthorItemTitle:"SingleProductPage_moreFromAuthorItemTitle__sJQCb",moreFromAuthorItemPrice:"SingleProductPage_moreFromAuthorItemPrice__iDEtv"}},8548:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/singleProductPage/[productId]",function(){return r(6707)}])},9099:(e,t,r)=>{e.exports=r(8253)}},e=>{var t=t=>e(e.s=t);e.O(0,[51,606,636,593,792],()=>t(8548)),_N_E=e.O()}]);