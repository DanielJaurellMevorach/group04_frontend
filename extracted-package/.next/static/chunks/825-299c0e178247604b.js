"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[825],{6887:(e,t,r)=>{r.d(t,{A:()=>a});var o=r(5364);o.env.NEXT_PUBLIC_API_URL;let a={uploadNewArtPiece:async e=>{let t=new FormData;if(e.images&&Array.isArray(e.images))for(let r of e.images)t.append("images",r);t.append("title",e.title),t.append("description",e.description),t.append("artist",e.artist),t.append("price",String(e.price)),t.append("year",String(e.year)),t.append("tags",JSON.stringify(e.tags));let r=sessionStorage.getItem("token"),a=sessionStorage.getItem("username");a&&t.append("username",a);let n={};r&&(n.Authorization="Bearer ".concat(r));let s=await fetch("".concat(o.env.NEXT_PUBLIC_API_URL,"/item/create"),{method:"POST",headers:n,body:t});if(!s.ok)throw console.error("Upload error:",await s.text()),Error("Failed to upload art piece: ".concat(s.statusText));return s.json()},getAllProducts:async()=>{let e=sessionStorage.getItem("token");try{let t=await fetch("".concat(o.env.NEXT_PUBLIC_GET_ALL_ART_PIECES_URL),{method:"GET",headers:{"Content-Type":"application/json",Authorization:e?"Bearer ".concat(e):""}});if(!t.ok)throw Error("Failed to fetch products");return t.json()}catch(e){throw console.error("Error fetching products:",e),Error("Failed to fetch products")}},getProductById:async e=>{let t=o.env.NEXT_PUBLIC_GET_ART_PIECE_BY_ID_URL;try{let r=await fetch("".concat(t,"artPieceId=").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!r.ok)throw Error("Failed to fetch product");return r.json()}catch(e){throw console.error("Error fetching product:",e),Error("Failed to fetch product")}},getProductsByArtist:async(e,t)=>{let r=new URL("".concat(o.env.NEXT_PUBLIC_API_URL,"/item/artist/").concat(e));return t&&r.searchParams.append("exclude",t),await fetch(r.toString(),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})}}},7589:(e,t,r)=>{r.d(t,{A:()=>f});var o=r(7876),a=r(4250),n=r.n(a),s=r(672),i=r(8447),c=r(6495),l=r(760),d=r(8230),h=r.n(d),m=r(4232);let f=()=>{let[e,t]=(0,m.useState)(!1),[r,a]=(0,m.useState)(!1),[d,f]=(0,m.useState)("");(0,m.useEffect)(()=>{sessionStorage.getItem("token")&&a(!0);let e=sessionStorage.getItem("username");e&&f(e)},[]);let p=()=>{sessionStorage.removeItem("token"),t(!1),a(!1)};return(0,o.jsxs)("header",{className:"jsx-e68520c3668174cd w-full bg-[#F9F2EA] text-[#A67C52] font-normal top-0 z-50 shadow-sm",children:[(0,o.jsxs)("div",{className:"jsx-e68520c3668174cd flex flex-col justify-center items-center w-full max-w-7xl mx-auto px-4",children:[(0,o.jsx)("div",{className:"jsx-e68520c3668174cd py-4 md:py-6",children:(0,o.jsxs)("div",{className:"jsx-e68520c3668174cd text-center",children:[(0,o.jsx)("h1",{className:"jsx-e68520c3668174cd text-xl font-medium tracking-wider",children:"NIMAH"}),(0,o.jsx)("p",{className:"jsx-e68520c3668174cd text-xs tracking-widest",children:"ART BOUTIQUE"})]})}),(0,o.jsx)("div",{className:"jsx-e68520c3668174cd md:hidden w-full border-t border-[#E8D7C9] py-3",children:(0,o.jsx)("div",{className:"jsx-e68520c3668174cd flex justify-between items-center",children:(0,o.jsxs)("button",{onClick:()=>t(!e),"aria-expanded":e,"aria-label":"Toggle navigation menu",className:"jsx-e68520c3668174cd flex items-center px-3 py-2 text-sm tracking-wider",children:[e?(0,o.jsx)(s.A,{className:"h-5 w-5 mr-2"}):(0,o.jsx)(i.A,{className:"h-5 w-5 mr-2"}),"MENU"]})})}),(0,o.jsx)("nav",{className:"jsx-e68520c3668174cd hidden md:flex justify-center w-full py-4 border-t border-b border-[#E8D7C9]",children:(0,o.jsxs)("div",{className:"jsx-e68520c3668174cd flex justify-between w-full max-w-4xl items-center",children:[(0,o.jsxs)("div",{className:"jsx-e68520c3668174cd flex space-x-8",children:[(0,o.jsx)(h(),{className:"px-3 py-2 text-sm tracking-wider hover:text-[#C8977F] transition-colors duration-200",href:"/",children:"HOME"}),(0,o.jsx)(h(),{className:"px-3 py-2 text-sm tracking-wider hover:text-[#C8977F] transition-colors duration-200",href:"/gallery",children:"SHOP"}),(0,o.jsx)(h(),{className:"px-3 py-2 text-sm tracking-wider hover:text-[#C8977F] transition-colors duration-200",href:"",children:"ARTISTS"}),(0,o.jsx)(h(),{className:"px-3 py-2 text-sm tracking-wider hover:text-[#C8977F] transition-colors duration-200",href:"",children:"ABOUT"})]}),r?(0,o.jsxs)("div",{className:"jsx-e68520c3668174cd flex items-center gap-4",children:[(0,o.jsx)("button",{"aria-label":"Shopping cart",className:"jsx-e68520c3668174cd p-2 hover:text-[#C8977F] transition-colors duration-200",children:(0,o.jsx)(h(),{href:"/user-cart",children:(0,o.jsx)(c.A,{className:"h-5 w-5"})})}),(0,o.jsx)("button",{"aria-label":"Shopping cart",className:"jsx-e68520c3668174cd p-2 hover:text-[#C8977F] transition-colors duration-200",children:(0,o.jsx)(h(),{href:"/liked-items",children:(0,o.jsx)(l.A,{className:"h-5 w-5"})})}),(0,o.jsxs)(h(),{href:"/",className:"bg-[#C8977F] hover:bg-[#B78370] text-white border-none rounded-none p-1.5",onClick:()=>p(),children:["Log Out, ",d]})]}):(0,o.jsx)("div",{className:"jsx-e68520c3668174cd flex items-center gap-4",children:(0,o.jsx)(h(),{href:"/login",className:"bg-[#C8977F] hover:bg-[#B78370] text-white border-none rounded-none p-1.5",onClick:()=>t(!1),children:"Sign In"})})]})}),e&&(0,o.jsx)("nav",{className:"jsx-e68520c3668174cd md:hidden w-full border-b border-[#E8D7C9]",children:(0,o.jsxs)("div",{style:{animation:"fadeIn 0.3s ease-out forwards"},className:"jsx-e68520c3668174cd flex flex-col w-full",children:[(0,o.jsx)(h(),{className:"px-4 py-3 text-sm tracking-wider hover:text-[#C8977F] hover:bg-[#F3EAE0] transition-colors duration-200",href:"/",onClick:()=>t(!1),children:"HOME"}),(0,o.jsx)(h(),{className:"px-4 py-3 text-sm tracking-wider hover:text-[#C8977F] hover:bg-[#F3EAE0] transition-colors duration-200",href:"/gallery",onClick:()=>t(!1),children:"SHOP"}),(0,o.jsx)(h(),{className:"px-4 py-3 text-sm tracking-wider hover:text-[#C8977F] hover:bg-[#F3EAE0] transition-colors duration-200",href:"",onClick:()=>t(!1),children:"ARTISTS"}),(0,o.jsx)(h(),{className:"px-4 py-3 text-sm tracking-wider hover:text-[#C8977F] hover:bg-[#F3EAE0] transition-colors duration-200",href:"",onClick:()=>t(!1),children:"ABOUT"}),r?(0,o.jsx)("div",{className:"jsx-e68520c3668174cd px-4 py-3 border-t border-[#E8D7C9]",children:(0,o.jsxs)(h(),{href:"/login",className:"block w-full py-2 text-center bg-[#C8977F] hover:bg-[#B78370] text-white transition-colors duration-200",onClick:()=>p(),children:["Log Out ",d]})}):(0,o.jsx)("div",{className:"jsx-e68520c3668174cd px-4 py-3 border-t border-[#E8D7C9]",children:(0,o.jsx)(h(),{href:"/login",className:"block w-full py-2 text-center bg-[#C8977F] hover:bg-[#B78370] text-white transition-colors duration-200",onClick:()=>t(!1),children:"Sign In"})})]})})]}),(0,o.jsx)(n(),{id:"e68520c3668174cd",children:"@-webkit-keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeIn{from{opacity:0;-moz-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeIn{from{opacity:0;-o-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(-10px);-moz-transform:translatey(-10px);-o-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}"})]})}},8941:(e,t,r)=>{r.d(t,{A:()=>d});var o=r(6887),a=r(5364);let n=async e=>{let t="".concat(a.env.NEXT_PUBLIC_GET_USERS_LIKED_ITEMS_URL),r=l(e);if(!r)throw Error("Invalid token");let n=r.userId;if(!n)throw Error("User ID not found in token");try{let r=await fetch("".concat(t,"userId=").concat(n),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(!r.ok)throw Error("Failed to fetch liked items");let a=await r.json();if(!a.likedItems||!Array.isArray(a.likedItems))return[];return await Promise.all(a.likedItems.map(e=>o.A.getProductById(e)))}catch(e){throw console.error("Error fetching liked items:",e),Error("Failed to fetch liked items")}},s=async e=>{let t="".concat(a.env.NEXT_PUBLIC_GET_USERS_CART_URL),r=l(e);if(!r)throw Error("Invalid token");let n=r.userId;if(!n)throw Error("User ID not found in token");try{let r=await fetch("".concat(t,"userId=").concat(n),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(!r.ok)throw Error("Failed to fetch liked items");let a=await r.json();if(!a.userCart||!Array.isArray(a.userCart))return[];let s=await Promise.all(a.userCart.map(e=>o.A.getProductById(e)));return console.log("likedUserCart",s),s}catch(e){throw console.error("Error fetching liked items:",e),Error("Failed to fetch liked items")}},i=async(e,t)=>{let r="".concat(a.env.NEXT_PUBLIC_USER_LIKES_ART_URL);if(!e)throw Error("Token is required");let o=l(e);if(!o)throw Error("Invalid token");let n=o.userId;if(!n)throw Error("User ID not found in token");if(!t)throw Error("Item ID is required");try{let o=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({userId:n,artPieceId:t})});if(!o.ok)throw Error("Failed to toggle like item");return await o.json()}catch(e){throw console.error("Error toggling like item:",e),Error("Failed to toggle like item")}},c=async(e,t)=>{let r="".concat(a.env.NEXT_PUBLIC_USER_ADDS_ART_TO_CART_URL);if(!e)throw Error("Token is required");let o=l(e);if(!o)throw Error("Invalid token");let n=o.userId;if(!n)throw Error("User ID not found in token");if(!t)throw Error("Item ID is required");try{let o=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({userId:n,artPieceId:t})});if(!o.ok)throw Error("Failed to toggle like item");return await o.json()}catch(e){throw console.error("Error toggling like item:",e),Error("Failed to toggle like item")}},l=e=>e?JSON.parse(atob(e.split(".")[1])):null,d={login:async(e,t)=>{let r=await fetch("".concat(a.env.NEXT_PUBLIC_USER_AUTHENTICATE_URL),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});if(!r.ok)throw Error("Failed to login");let{token:o,username:n,role:s}=await r.json();return{token:o,username:n,role:s}},register:async(e,t,r,o,n)=>{try{let s=await fetch("".concat(a.env.NEXT_PUBLIC_ADD_USER_URL),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t,email:r,firstName:o,lastName:n})});if(!s.ok)throw Error("Failed to register");let{token:i,username:c,role:l}=await s.json();return{token:i,username:c,role:l}}catch(e){throw console.error("Registration error:",e),Error("Registration failed")}},decodeJWT:l,getUsersLikedItems:n,getUsersCartItems:s,toggleLikeItem:i,toggleCartItem:c}}}]);